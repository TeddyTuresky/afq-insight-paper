<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Presentation metadata -->
    <title>Introducing AFQ-Insight</title>
    <meta name="description" content="An introduction to AFQ-Insight, a tool for multidimensional analysis and detection of informative features in diffusion MRI measurements of human white matter">
    <meta name="author" content="Adam Richie-Halford">
    <!-- reveal.js CSS -->
    <link rel="stylesheet" href="css/reveal.css">
    <!-- The id attribute must be defined for the reveal.js-menu themes panel -->
    <link rel="stylesheet" href="css/theme/league.css" id="theme">
    <!-- Devicons CSS -->
    <link rel="stylesheet" href="css/devicons.min.css">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="css/fa-solid.css">
    <link rel="stylesheet" href="css/fa-regular.css">
    <link rel="stylesheet" href="css/fa-brands.css">
    <link rel="stylesheet" href="css/fontawesome.css">
    <!-- Title-footer plugin CSS -->
    <link rel="stylesheet" href="plugin/title-footer/title-footer.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <script>
      function canvas_arrow_two_heads(context, fromx, fromy, tox, toy){
        let headlen = 10;   // length of head in pixels
        let angle = Math.atan2(toy-fromy,tox-fromx);
        context.moveTo(fromx, fromy);
        context.lineTo(fromx+headlen*Math.cos(angle+Math.PI/6),fromy+headlen*Math.sin(angle+Math.PI/6));
        context.moveTo(fromx, fromy);
        context.lineTo(fromx+headlen*Math.cos(angle-Math.PI/6),fromy+headlen*Math.sin(angle-Math.PI/6));
        context.moveTo(fromx, fromy);
        context.lineTo(tox, toy);
        context.lineTo(tox-headlen*Math.cos(angle-Math.PI/6),toy-headlen*Math.sin(angle-Math.PI/6));
        context.moveTo(tox, toy);
        context.lineTo(tox-headlen*Math.cos(angle+Math.PI/6),toy-headlen*Math.sin(angle+Math.PI/6));
      }

      // degrees to radians, because most people think in degrees
      function degToRad(angle_degrees) {
        return angle_degrees/180*Math.PI;
      }

      // draw a horizontal arc
      //   ctx: canvas context;
      //   inax: first x point
      //   inbx: second x point
      //   y: y value of start and end
      //   alpha_degrees: (tangential) angle of start and end
      //   upside: true for arc above y, false for arc below y.
      function drawHorizArc(ctx, inax, inbx, y, alpha_degrees, upside)
      {
        var alpha = degToRad(alpha_degrees);
        var startangle = (upside ? ((3.0/2.0)*Math.PI + alpha) : ((1.0/2.0)*Math.PI - alpha));
        var endangle = (upside ? ((3.0/2.0)*Math.PI - alpha) : ((1.0/2.0)*Math.PI + alpha));

        var ax=Math.min(inax,inbx);
        var bx=Math.max(inax,inbx);

        // tan(alpha) = o/a = ((bx-ax)/2) / o
        // o = ((bx-ax)/2/tan(alpha))
        // centre of circle is (bx+ax)/2, y-o
        var circleyoffset = ((bx-ax)/2)/Math.tan(alpha);
        var circlex = (ax+bx)/2.0;
        var circley = y + (upside ? 1 : -1) * circleyoffset;
        var radius = Math.sqrt(Math.pow(circlex-ax,2) + Math.pow(circley-y,2));

        ctx.beginPath();
        if(upside) {
          ctx.moveTo(bx,y);
          ctx.arc(circlex,circley,radius,startangle,endangle,1);
        } else {
          ctx.moveTo(bx,y);
          ctx.arc(circlex,circley,radius,startangle,endangle,0);
        }
        ctx.stroke();
      }

      // draw the head of an arrow (not the main line)
      //  ctx: canvas context
      //  x,y: coords of arrow point
      //  angle_from_north_clockwise: angle of the line of the arrow from horizontal
      //  upside: true=above the horizontal, false=below
      //  barb_angle: angle between barb and line of the arrow
      //  filled: fill the triangle? (true or false)
      function drawArrowHead(ctx, x, y, angle_from_horizontal_degrees, upside, //mandatory
        barb_length, barb_angle_degrees, filled) {        //optional
        (barb_length==undefined) && (barb_length=13);
        (barb_angle_degrees==undefined) && (barb_angle_degrees = 20);
        (filled==undefined) && (filled=true);
        var alpha_degrees = (upside ? -1 : 1) * angle_from_horizontal_degrees; 

        //first point is end of one barb
        var plus = degToRad(alpha_degrees - barb_angle_degrees);
        a = x + (barb_length * Math.cos(plus));
        b = y + (barb_length * Math.sin(plus));

        //final point is end of the second barb
        var minus = degToRad(alpha_degrees + barb_angle_degrees);
        c = x + (barb_length * Math.cos(minus));
        d = y + (barb_length * Math.sin(minus));

        ctx.beginPath();
        ctx.moveTo(a,b);
        ctx.lineTo(x,y);
        ctx.lineTo(c,d);
        if(filled) {
          ctx.fill();
        } else {
          ctx.stroke();
        }
        return true;
      }

      // draw a horizontal arcing arrow
      //  ctx: canvas context
      //  inax: start x value
      //  inbx: end x value
      //  y: y value
      //  alpha_degrees: angle of ends to horizontal (30=shallow, >90=silly)
      function drawHorizArcArrow(ctx, inax, inbx, y,                 //mandatory
        alpha_degrees, upside, barb_length) { //optional
        (alpha_degrees==undefined) && (alpha_degrees=45);
        (upside==undefined) && (upside=true);
        drawHorizArc(ctx, inax, inbx, y, alpha_degrees, upside);
        if(inax>inbx) { 
          drawArrowHead(ctx, inbx, y, alpha_degrees*0.9, upside, barb_length); 
        } else { 
          drawArrowHead(ctx, inbx, y, (180-alpha_degrees*0.9), upside, barb_length); 
        }
        return true;
      }

      function drawArrow(ctx,fromelem,toelem,    //mandatory
        above, angle) {        //optional
        (above==undefined) && (above = true);
        (angle==undefined) && (angle = 45); //degrees 
        midfrom = fromelem.offsetLeft + (fromelem.offsetWidth / 2) - left - tofromseparation/2; 
        midto   =   toelem.offsetLeft + (  toelem.offsetWidth / 2) - left + tofromseparation/2;
        //var y = above ? (fromelem.offsetTop - top) : (fromelem.offsetTop + fromelem.offsetHeight - top);
        var y = fromelem.offsetTop + (above ? 0 : fromelem.offsetHeight) - canvasTop;
        drawHorizArcArrow(ctx, midfrom, midto, y, angle, above);
      }
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <img align="center" style="border: none;" width="350"
            src="img/pyafq-segmentation-all-tracts-transparent.gif"
            alt="AFQ segmentation">
          <h1>AFQ-Insight</h1>
          <h3>A tool for multidimensional analysis and detection of informative features in diffusion MRI measurements of human white matter</h3>
          <p><small>Follow along at <a href="http://richford.github.io/afq-insight-paper/">http://richford.github.io/afq-insight-paper/</a></small></p>
          <p class="creativecommons">
            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
              <i class="fab fa-creative-commons"></i>
              <i class="fab fa-creative-commons-by"></i>
            <small>
              This work is licensed under a <a style="padding-left: 0.3em;" rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
            </small>
          </p>
          <aside class="notes" data-markdown>
          </aside>
        </section>

        <section id="aims" data-external="sections/aims.html"></section>
        <section id="white-matter" data-external="sections/white-matter.html"></section>
        <section id="learning" data-external="sections/learning.html"></section>
        <section id="classification" data-external="sections/classification.html"></section>
        <section id="conclusion" data-external="sections/conclusion.html"></section>

        <section>
          <h2>Thank you!</h2>
          <div class="row">
            <div class="imgpenta imgcite">
              <img style="margin: 0px;" class="logo" src="img/people/ariel.jpg" height="350">
              <cite>
                Ariel Rokem
                <br>
                UW eScience
              </cite>
            </div >
            <div class="imgpenta imgcite">
              <img style="margin: 0px;" class="logo" src="img/people/jason.jpg" height="350">
              <cite>
                Jason Yeatman
                <br>
                UW ILABS
              </cite>
            </div>
            <div class="imgpenta imgcite">
              <img style="margin: 0px;" class="logo" src="img/people/noah.jpg" height="350">
              <cite>
                Noah Simon
                <br>
                UW Biostatistics
              </cite>
            </div>
          </div>
          <p>
            <a href="mailto:richiehalford@gmail.com">
              <i class="fas fa-envelope"></i>richiehalford@gmail.com
            </a>
          </p>
          <p>
            <a href="https://github.com/richford">
              <i class="fab fa-github"></i>richford
            </a>
          </p>
          <p class="creativecommons">
            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
              <i class="fab fa-creative-commons"></i>
              <i class="fab fa-creative-commons-by"></i>
            </a>
          </p>
          <p class="smaller">
            This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
          </p>
          <p class="smaller">
            Built with <a href="https://github.com/keimlink/cookiecutter-reveal.js">cookiecutter-reveal.js</a>,
            <a href="https://github.com/hakimel/reveal.js">reveal.js</a>,
            <a href="https://github.com/denehyg/reveal.js-menu">reveal.js-menu</a>,
            <a href="https://fontawesome.com/">Font Awesome</a> and
            <a href="https://github.com/vorillaz/devicons">devicons</a>.
          </p>
        </section>
      </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        width: 1920,
        height: 1080,
        margin: 0.1,
        history: true,
        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full'
        },
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/math/math.js', async: true },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          // Zoom in and out with Alt+click
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/title-footer/title-footer.js', async: true, callback: function() {
            title_footer.initialize(
              title="Multidimensional analysis and detection of informative features in diffusion MRI measurements of human white matter",
              authors="Adam Richie-Halford, Jason Yeatman, Ariel Rokem, Noah Simon",
              img="img/Signature_Stacked_White.png"
            );
          } },
          // { src: 'third_party_plugins/menu.js' },
          { src: 'third_party_plugins/external.js', condition: function() { return !!document.querySelector( '[data-external]' ); } },
          { src: 'node_modules/reveal.js-menu/menu.js' },
        ],
        menu: {
          // Specifies which side of the presentation the menu will 
          // be shown. Use 'left' or 'right'.
          side: 'left',

          // Specifies the width of the menu.
          // Can be one of the following:
          // 'normal', 'wide', 'third', 'half', 'full', or
          // any valid css length value
          width: 'normal',

          // Add slide numbers to the titles in the slide list.
          // Use 'true' or format string (same as reveal.js slide numbers)
          numbers: false,

          // Specifies which slide elements will be used for generating
          // the slide titles in the menu. The default selects the first
          // heading element found in the slide, but you can specify any
          // valid css selector and the text from the first matching
          // element will be used.
          // Note: that a section data-menu-title attribute or an element
          // with a menu-title class will take precedence over this option
          titleSelector: 'notanelement',

          // If slides do not have a matching title, attempt to use the
          // start of the text content as the title instead
          useTextContentForMissingTitles: false,

          // Hide slides from the menu that do not have a title.
          // Set to 'true' to only list slides with titles.
          hideMissingTitles: true,

          // Adds markers to the slide titles to indicate the 
          // progress through the presentation. Set to 'false'
          // to hide the markers.
          markers: true,

          // Specify custom panels to be included in the menu, by
          // providing an array of objects with 'title', 'icon'
          // properties, and either a 'src' or 'content' property.
          custom: false,

          // Specifies the themes that will be available in the themes
          // menu panel. Set to 'true' to show the themes menu panel
          // with the default themes list. Alternatively, provide an
          // array to specify the themes to make available in the
          // themes menu panel, for example...
          // [
          //     { name: 'Black', theme: 'css/theme/black.css' },
          //     { name: 'White', theme: 'css/theme/white.css' },
          //     { name: 'League', theme: 'css/theme/league.css' }
          // ]
          themes: false,

          // Specifies the path to the default theme files. If your
          // presentation uses a different path to the standard reveal
          // layout then you need to provide this option, but only
          // when 'themes' is set to 'true'. If you provide your own 
          // list of themes or 'themes' is set to 'false' the 
          // 'themesPath' option is ignored.
          themesPath: 'css/theme/',

          // Specifies if the transitions menu panel will be shown.
          // Set to 'true' to show the transitions menu panel with
          // the default transitions list. Alternatively, provide an
          // array to specify the transitions to make available in
          // the transitions panel, for example...
          // ['None', 'Fade', 'Slide']
          transitions: false,

          // Adds a menu button to the slides to open the menu panel.
          // Set to 'false' to hide the button.
          openButton: true,

          // If 'true' allows the slide number in the presentation to
          // open the menu panel. The reveal.js slideNumber option must 
          // be displayed for this to take effect
          openSlideNumber: false,

          // If true allows the user to open and navigate the menu using
          // the keyboard. Standard keyboard interaction with reveal
          // will be disabled while the menu is open.
          keyboard: true,

          // Normally the menu will close on user actions such as
          // selecting a menu item, or clicking the presentation area.
          // If 'true', the sticky option will leave the menu open
          // until it is explicitly closed, that is, using the close
          // button or pressing the ESC or m key (when the keyboard 
          // interaction option is enabled).
          sticky: false,

          // If 'true' standard menu items will be automatically opened
          // when navigating using the keyboard. Note: this only takes 
          // effect when both the 'keyboard' and 'sticky' options are enabled.
          autoOpen: true,

          // If 'true' the menu will not be created until it is explicitly
          // requested by calling RevealMenu.init(). Note this will delay
          // the creation of all menu panels, including custom panels, and
          // the menu button.
          delayInit: false,

          // If 'true' the menu will be shown when the menu is initialised.
          openOnInit: false,

          // By default the menu will load it's own font-awesome library
          // icons. If your presentation needs to load a different
          // font-awesome library the 'loadIcons' option can be set to false
          // and the menu will not attempt to load the font-awesome library.
          loadIcons: true
        },
      });
    </script>
  </body>
</html>
